package com.gmail.remember.common.components

import android.annotation.SuppressLint
import androidx.compose.foundation.Canvas
import androidx.compose.foundation.ExperimentalFoundationApi
import androidx.compose.foundation.background
import androidx.compose.foundation.combinedClickable
import androidx.compose.foundation.layout.size
import androidx.compose.material3.ShapeDefaults
import androidx.compose.material3.Surface
import androidx.compose.runtime.Composable
import androidx.compose.ui.Modifier
import androidx.compose.ui.draw.clip
import androidx.compose.ui.draw.drawBehind
import androidx.compose.ui.graphics.Color
import androidx.compose.ui.graphics.asComposePath
import androidx.compose.ui.graphics.drawscope.translate
import androidx.compose.ui.unit.dp
import androidx.core.graphics.PathParser
import com.gmail.remember.utils.drawBrain
import com.gmail.remember.utils.toBrush

@OptIn(ExperimentalFoundationApi::class)
@SuppressLint("RestrictedApi")
@Composable
fun ItemBrainCard(
    progress: Float = 0f,
    onClick: () -> Unit = {},
    onLongClick: () -> Unit = {}
) {
    Surface(
        modifier = Modifier
            .clip(shape = ShapeDefaults.Medium)
            .combinedClickable(
                onClick = { onClick() },
                onLongClick = { onLongClick() }
            )
            .size(200.dp)
    ) {
        Canvas(
            modifier = Modifier
                .clip(shape = ShapeDefaults.Medium)
                .background(Color.Black)
                .drawBehind {
                    translate(
                        left = (size.width - 512f) * 0.5f,
                        top = (size.height - 512f) * 0.5f
                    ) {
                        drawPath(
                            PathParser
                                .createPathFromPathData(
                                    "M227,4C227.97,4.49 228.94,4.97 229.95,5.47C239.67,10.73 248.48,18.01 255,27C255,27.66 255,28.32 255,29C255.66,29 256.32,29 257,29C257.27,28.42 257.54,27.83 257.81,27.23C264.51,14.63 279.29,5.4 292.35,0.83C304.54,-1.94 317.83,-0.89 328.64,5.58C331.95,7.83 335.08,10.2 338.09,12.83C343.09,17.11 347.71,19.11 353.99,21.02C374.23,27.31 392.83,40.11 403,59C406.17,65.89 407.67,72.43 408,80C408.71,80.23 409.43,80.45 410.16,80.69C419.1,84.82 425.6,94.52 430,103C430.36,103.62 430.73,104.24 431.11,104.88C437.91,116.98 439.87,132.53 438.73,146.23C438.74,149.14 438.74,149.14 440.94,151.24C441.81,151.92 442.67,152.61 443.56,153.31C458.93,166.31 466.08,184.98 467.86,204.81C468.59,216.55 468.32,228.32 467,240C466.2,247.93 468.08,253.06 471.41,260.29C479.75,278.97 482.63,304.35 476,324C470.06,337.94 470.06,337.94 467,341C466.83,342.37 466.72,343.75 466.64,345.13C464.67,373.09 454.3,394.57 435,415C434.08,416 434.08,416 433.14,417.02C428.57,421.82 423.51,425.82 418.28,429.87C412.94,434 407.9,438.36 403,443C402.51,443.46 402.02,443.91 401.52,444.38C390.6,454.63 381.39,466.01 373.38,478.66C365.91,490.36 359.84,498.43 347,504C345.75,504.59 344.51,505.18 343.26,505.78C328.86,512.35 311.69,515.22 296.25,510.31C294.48,509.59 292.73,508.82 291,508C290.22,507.65 289.44,507.3 288.63,506.94C274.49,499.89 263.8,485.96 257,472C257,471.01 257,470.02 257,469C256.34,469 255.68,469 255,469C254.73,469.87 254.46,470.75 254.18,471.65C249.19,485.78 238.07,498.7 225,506C210.72,512.78 194.37,514.83 178.96,510.18C173.17,507.87 167.56,505.16 162.1,502.16C160.6,501.33 159.08,500.54 157.54,499.77C150.41,495.96 146.79,491.28 142.56,484.5C141.27,482.52 139.98,480.55 138.68,478.58C138.06,477.62 137.44,476.67 136.79,475.68C130.41,466.14 122.9,457.32 115,449C114.29,448.25 114.29,448.25 113.57,447.49C106.6,440.17 99.32,433.7 91.29,427.56C86.62,423.97 82.29,420.03 78,416C77.33,415.39 76.65,414.78 75.96,414.16C58.56,397.79 47.81,375.22 46.06,351.56C45.56,344.74 44.7,340.15 40.59,334.49C29.93,317.82 31.5,294.69 35.49,276.13C37.14,269.24 39.29,262.36 42.5,256.04C46.52,248.06 45.88,242.42 44.63,233.91C41.55,212.12 43.96,185.37 56.13,166.48C60.32,160.92 65.25,154.42 71.13,150.62C73.18,149.17 73.18,149.17 73.48,146.89C73.48,146.09 73.47,145.29 73.47,144.46C73.48,143.56 73.49,142.66 73.5,141.73C73.5,140.77 73.5,139.8 73.5,138.81C74.01,118.17 79.87,100.56 95,86C101.35,80 101.35,80 104,80C104.08,78.76 104.17,77.53 104.25,76.25C106.05,60.91 114.18,47.78 126,38C135.7,30.84 146.37,24.48 158.03,21.27C165.52,19.2 170.05,16.85 175.64,11.21C179.58,7.51 184.13,5.26 189,3C189.68,2.66 190.36,2.32 191.06,1.97C201.97,-2.63 216.69,-1.28 227,4ZM175.47,33.9C172.19,38.18 169.09,42.58 166,47C165,48 165,48 162.93,48.1C162.11,48.09 161.29,48.07 160.44,48.06C159.61,48.05 158.78,48.04 157.93,48.04C157.3,48.02 156.66,48.01 156,48C155.01,45.69 154.02,43.38 153,41C138.98,47.2 128.07,56.3 121.95,70.48C120.13,75.3 119.81,79.61 119.81,84.75C119.81,85.83 119.81,85.83 119.81,86.93C119.85,90.56 120,93.94 121,97.44C122.2,101.7 122.71,105.61 122,110C119.8,112.8 118.45,112.94 114.94,113.38C111.58,112.95 111.03,112.58 109,110C108.12,107.55 108.12,107.55 107.44,104.88C106.8,102.25 106.8,102.25 106,100C105.01,99.5 105.01,99.5 104,99C91.21,115.33 87.49,132.29 89.82,152.81C91.46,164.88 95.37,176.62 99.47,188.04C100.26,190.95 99.9,193.17 99,196C96.57,198.43 95.38,198.69 92,199C89.52,198.47 89.52,198.47 87,197C85.72,194.5 84.8,192.32 83.94,189.69C83.69,188.98 83.44,188.27 83.18,187.54C80.94,181.08 78.91,174.56 77,168C72.35,171.18 70.26,174.5 67.88,179.44C67.53,180.14 67.18,180.85 66.83,181.58C63.86,187.87 62.09,194.12 61,201C60.87,201.72 60.74,202.43 60.61,203.17C57.98,221.03 60.24,240.59 64.64,257.98C65.28,261.57 64.81,264.45 64,268C60.56,270.3 58.06,270.54 54,271C48.39,291.03 46.03,309.84 56,329C60.96,336.59 67.25,342.69 75.13,347.22C77.06,348.38 77.06,348.38 80,351C80.69,354.1 80.69,356.9 80,360C77.6,362.4 76.92,362.3 73.63,362.31C70.48,362.26 69.2,362.12 66.44,360.5C65.96,360.01 65.49,359.51 65,359C64.34,359.33 63.68,359.66 63,360C70.72,386.05 87.44,404.39 108.68,420.7C113.85,424.74 118.38,429.21 122.89,433.98C124.75,436.23 124.75,436.23 127,436C127.25,436.57 127.5,437.15 127.76,437.74C129.16,440.3 130.8,442.07 132.81,444.19C136.93,448.68 140.73,453.35 144.44,458.19C144.99,458.91 145.55,459.64 146.12,460.39C149.27,464.54 152.19,468.77 154.96,473.19C162.94,485.82 174.2,491.96 188.5,495.64C200.29,497.32 211.17,496.26 221.13,489.38C233.98,478.89 245.66,461.67 247.65,444.79C247.97,440.41 247.94,436.03 247.89,431.64C247.9,429.96 247.91,428.28 247.92,426.6C247.95,422.04 247.94,417.48 247.92,412.92C247.9,407.98 247.92,403.04 247.94,398.1C247.97,388.45 247.97,378.79 247.95,369.14C247.93,361.3 247.93,353.45 247.94,345.6C247.94,344.48 247.94,343.37 247.94,342.21C247.94,339.94 247.94,337.66 247.95,335.39C247.97,314.11 247.94,292.83 247.91,271.54C247.87,253.29 247.88,235.03 247.91,216.78C247.95,195.56 247.96,174.34 247.94,153.11C247.94,150.85 247.94,148.59 247.94,146.33C247.94,144.66 247.94,144.66 247.93,142.95C247.93,135.11 247.94,127.28 247.95,119.44C247.97,109.89 247.97,100.34 247.93,90.79C247.91,85.92 247.91,81.05 247.93,76.18C247.95,71.72 247.94,67.26 247.9,62.8C247.89,61.19 247.9,59.58 247.91,57.97C248,49.57 247.82,43.16 241.79,36.75C240.9,35.89 240.9,35.89 240,35C239.01,33.78 238.03,32.55 237.06,31.31C230.54,23.86 220.3,16.83 210.29,15.69C195.55,15.1 184.52,22.65 175.47,33.9ZM270,37C269.14,37.88 268.28,38.75 267.39,39.66C263.27,45.57 264.31,53.2 264.35,60.11C264.34,61.77 264.34,63.44 264.32,65.11C264.3,69.68 264.31,74.25 264.32,78.82C264.32,83.75 264.3,88.68 264.29,93.61C264.26,103.28 264.25,112.94 264.26,122.6C264.27,130.46 264.26,138.32 264.25,146.17C264.25,147.29 264.25,148.41 264.25,149.56C264.25,151.84 264.24,154.11 264.24,156.38C264.22,177.7 264.22,199.01 264.24,220.33C264.26,239.81 264.23,259.29 264.19,278.78C264.15,298.79 264.13,318.81 264.14,338.82C264.14,350.05 264.14,361.29 264.11,372.52C264.08,382.09 264.08,391.65 264.11,401.22C264.12,406.1 264.13,410.97 264.1,415.85C264.07,420.32 264.08,424.8 264.11,429.27C264.12,430.88 264.12,432.49 264.1,434.1C263.89,453.15 272.47,470.89 285.54,484.74C295.13,493.55 304.81,496.73 317.73,496.38C329.82,495.61 343.9,489.93 352,480.8C355.16,476.95 357.82,472.82 360.5,468.63C373.82,448.31 390.35,430.16 409.75,415.51C428.13,401.54 444.88,382.41 449,359C447.95,359.43 447.95,359.43 446.88,359.88C445.93,360.25 444.98,360.62 444,361C443.01,361.41 442.02,361.83 441,362.25C437.49,363.13 436.11,362.78 433,361C431.43,357.86 431.65,355.46 432,352C434.73,348.36 438.05,346.27 441.81,343.75C452.69,336.22 459.28,326.04 462.38,313.13C464.44,299.76 462.3,287.9 459,275C458.67,273.67 458.33,272.33 458,271C457.37,270.9 456.75,270.8 456.1,270.7C455.28,270.55 454.47,270.4 453.63,270.25C452.81,270.11 452,269.97 451.16,269.83C449,269 449,269 447.85,267.2C445.62,261.43 448.48,253.09 449.51,247.13C453.92,221.08 454.85,194.5 439.43,171.74C437.93,169.74 437.93,169.74 435,168C434.42,169.88 434.42,169.88 433.83,171.8C432.5,176.1 431.14,180.39 429.75,184.67C429.13,186.58 428.53,188.5 427.92,190.42C425.79,196.53 425.79,196.53 422.06,198.75C418.56,199.04 416.93,198.96 414,197C412.41,194.09 411.81,191.98 412.45,188.69C413.29,185.95 414.22,183.26 415.19,180.56C422.72,158.38 427.36,134.16 417,112C414.23,107.16 411.2,102.72 407,99C406.81,99.6 406.61,100.21 406.41,100.83C406.15,101.63 405.89,102.43 405.63,103.25C405.37,104.04 405.11,104.83 404.85,105.64C402.68,111.66 402.68,111.66 400,113C393.86,113.45 393.86,113.45 391.06,112C388.72,107.58 389.77,102.62 391,98C394.1,85.03 392.26,72.74 385.38,61.38C378.84,52.22 369.91,46.08 360,41C359.67,41 359.34,41 359,41C358.63,42.42 358.63,42.42 358.25,43.88C357,47 357,47 355.25,48.44C352.08,49.23 350.15,48.9 347,48C345.13,46.03 343.7,44.28 342.19,42.06C341.32,40.87 340.45,39.68 339.57,38.5C339.14,37.9 338.71,37.31 338.26,36.7C331.42,27.48 323.13,19.64 312,16C293.52,13.92 281.78,23.9 270,37Z"
                                )
                                .asComposePath(),
                            brush = progress.toBrush()
                        )
                    }
                }
        ) {
            progress.drawBrain(drawScope = this)
        }
    }
}